# 포토커플러 (PC817)

## 1. 실물사진 및 설명

<img width="569" height="234" alt="image" src="https://github.com/user-attachments/assets/ca65e598-632c-4be8-ad25-81969935ec41" />

'빛(Photo)'을 이용해 전기 신호를 전달하는 ‘연결기(coupler)’ 역할을 하는 전자 부품으로, 두 개의 회로를 전기적으로 완벽하게 분리(절연)시킨 상태에서 신호만 전달한다. 디지털신호(ON/OFF) & 아날로그 신호(세기) 모두 전달 가능하다.

### 1) 외형

4핀 DIP 패키지이며, 보통 IC처럼 작은 블랙 몰드 형태로 되어 있다.
내부에는 LED와 포토트랜지스터가 마주 보고 들어 있다.

### 2) 핀 배치

1번 핀은 LED의 애노드, 2번 핀은 캐소드이다.
3번 핀은 트랜지스터의 이미터, 4번 핀은 컬렉터이다.

즉, 왼쪽 두 핀은 LED이고, 오른쪽 두 핀은 트랜지스터이다.

### 3) 주요 특성

절연 내압은 약 5kVrms까지 견딜 수 있다.
출력 전류 대비 입력 전류의 비율인 CTR(Current Transfer Ratio)은 50~400% 사이의 범위로 주어진다.

예를 들어 입력에 5mA를 흘리면, 출력 측에서는 최소 2.5mA 정도가 나올 수 있음을 의미한다.

---
## 2. 동작원리

<img width="763" height="355" alt="image" src="https://github.com/user-attachments/assets/5ad1256c-a70d-4e07-b37a-c102ad775df4" />

### 1) 구조
**발광부** (빛을 내는 부분): 주로 눈에 보이지 않는 적외선을 내보내는 LED (발광 다이오드) 사용

**수광부** (빛을 감지하는 부분): 빛을 받으면 전기가 통하는 반도체 소자인 포토트랜지스터 사용

### 2) 작동 순서
1. **신호 입력**: 1차 측(입력 회로)에서 포토커플러의 LED로 전기 신호(전류)를 보냄
2. **발광**: LED에 전류가 흐르면 빛(적외선)이 켜짐
3. **빛 전달**: 이 빛은 내부의 투명한 절연 공간을 통과해 반대편 수광부로 전달
4. **신호 감지**: 2차 측(출력 회로)의 포토트랜지스터가 이 빛을 감지
5. **신호 출력**: 빛을 감지한 포토트랜지스터는 스위치가 켜진 것처럼 동작하여 2차 측 (출력 회로)에 전류를 흐르게 함

---
## 3. 데이터시트 및 설명

### 1) 기본 정보

| 항목       | 내용                      | 비고 및 설명                         |
|------------|-------------------------|------------------------------------|
| 제품명     | PC817                   | Sharp사 제조 일반용 포토커플러           |
| 패키지 타입 | DIP-4 (4핀 DIP)           | 표준 4핀 듀얼 인라인 패키지               |
| 내부 구성   | 적외선 LED + 포토트랜지스터 | LED로부터 방출된 빛을 포토트랜지스터가 수신     |

### 2) 전기적 사양

| 항목                      | 값                            | 비고 및 설명                           |
|-------------------------|-----------------------------|------------------------------------|
| 입력 측 순방향 전류 (IF)    | 최대 50 mA, 권장 10 mA 이하       | 과도한 전류는 LED 손상 및 수명 단축 유발       |
| 입력 순방향 전압 (VF)       | 약 1.2 V (IF=10mA 기준)         | LED 구동 시 필요 전압                     |
| 출력 컬렉터-이미터 전압 (VCEO) | 최대 80 V                      | 포토트랜지스터가 견딜 수 있는 최대 전압          |
| 출력 컬렉터 전류 (IC)         | 최대 50 mA                     | 포토트랜지스터가 처리 가능한 최대 전류          |
| 절연 내압 (BVS)             | 5,000 V RMS                   | 입력과 출력 사이의 최대 절연 전압, 안전성 확보용   |
| Current Transfer Ratio (CTR) | 50% ~ 600% (IF=5mA 기준)       | 입력 LED 전류 대비 출력 컬렉터 전류 비율, 효율 지표 |
| 작동 온도 범위              | -55°C ~ +110°C                | 극한 환경에서도 동작 가능                   |

### 3) 동작 특성 및 주의사항

| 항목             | 내용                                                        |
|----------------|-----------------------------------------------------------|
| 동작 원리          | 입력 LED에 전류가 흐르면 적외선이 출력되고, 출력부 포토트랜지스터가 이 빛을 받아 전류를 흐르게 함.  |
| 절연 효과          | 입력과 출력이 광학적으로 분리되어 전기적으로 완전히 절연됨.                            |
| 최대 입력 전류 제한    | LED의 과전류 방지를 위해 10mA 이하 사용 권장.                                     |
| 출력 회로 설계       | 풀업 저항(Rpull-up)과 함께 사용, 출력 신호 클리닝을 위해 스미스 트리거 사용 권장.           |
| 응답 속도 제한       | 최대 100 kHz 이하에서 안정적 동작, 고속 신호에는 부적합.                            |
| 열 관리           | 과도한 온도 상승 방지, 방열 필요 시 추가 방열 대책 필요.                             |
| 기계적 주의         | DIP 패키지 핀 취급 시 납땜 온도 및 시간 준수 필요.                                |

---
## 4. 구체적 응용사례

1) **스위칭 전원공급장치(SMPS)**
스위칭 전원공급장치(SMPS, Switching Mode Power Supply)는 컴퓨터 파워서플라이, 텔레비전, 충전기 등에서 사용되는 전원 장치이다. 포토커플러는 출력 전압을 감지하여 제어부인 MOSFET이나 PWM 컨트롤러로 절연된 피드백 신호를 전달함으로써, 전압을 안정적으로 유지하도록 돕는다. 그 원리는 저전압 출력부와 고전압 제어부 사이를 빛을 매개로 절연하여 안정적인 전압을 유지하는 방식이다.

2) **산업용 제어기(PLC)**
프로그램 가능 논리 제어기(PLC, Programmable Logic Controller)는 공장 자동화 설비를 제어하는 산업용 컴퓨터이다. 포토커플러는 PLC의 디지털 입출력(I/O) 모듈에서 외부 센서 또는 스위치로부터 들어오는 신호를 절연하여 고전압이나 노이즈 환경에서도 안정적으로 동작하도록 한다. 원리는 센서에서 흐르는 전류가 LED를 점등시키고, 그 빛을 포토트랜지스터가 받아 PLC 내부로 신호를 전달하는 방식이다.

3) **RS-485 통신 모듈**
RS-485 통신 모듈은 산업 현장에서 센서, 계측기, 컨트롤러 간 데이터 전송에 사용되는 통신 장치이다. 포토커플러는 잡음이 심한 환경에서도 마이크로컨트롤러(MCU)와 통신 라인을 절연하여 데이터 오류와 장치 손상을 방지한다. 통신 신호가 LED를 통해 빛으로 변환되면, 포토다이오드가 이를 검출하여 안정적으로 신호를 전달하는 원리를 가진다.

4) **인버터 드라이브**
인버터 드라이브(Motor Drive / VFD, Variable Frequency Drive)는 모터의 속도와 토크를 제어하는 장치로, 엘리베이터, 에어컨, 공장 자동화 설비 등에서 사용된다. 포토커플러는 제어기(MCU, DSP)에서 발생한 PWM 신호를 절연하여 고전압 전력 스위치인 IGBT나 MOSFET에 안전하게 전달한다. 원리는 MCU의 전압 신호로 LED를 구동하면, 빛이 포토트랜지스터를 스위칭하여 고전압 전력 소자를 안전하게 제어하는 방식이다.

5) **의료용 심전도(ECG) 장비**
의료용 심전도(ECG) 장비는 환자의 심장 전기 신호를 측정하여 모니터링하는 기기이다. 포토커플러는 환자 전극과 장비 내부 회로를 절연함으로써 환자를 고전압 충격으로부터 보호한다. 전극에서 얻은 신호는 LED를 통해 빛으로 변환되고, 포토센서가 이를 받아 장비 회로로 전달하는 방식으로 전기적 접촉 없이 측정이 이루어진다.
