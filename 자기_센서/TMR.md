# 동작 원리 

**TMR 소자**는 두 개의 강자성체 사이에 얇은 절연층이 삽입된 구조이다.  
이 절연층은 매우 얇기 때문에, 전자는 **터널링 현상**을 통해 이를 통과할 수 있다.

이때 터널링의 효율, 즉 전자가 절연층을 얼마나 잘 통과하는지는 **두 강자성체의 자화 방향**에 따라 결정된다.

- 두 자화 방향이 **평행**할 경우  
  → 터널링이 활발해져 소자의 **저항은 낮아진다**.

- 두 자화 방향이 **반평행**할 경우  
  → 터널링이 억제되어 소자의 **저항은 높아진다**.

이처럼 두 강자성체의 자화 방향이 소자의 저항 값을 결정하는 것이  
바로 **TMR (Tunnel Magnetoresistance)** 원리의 핵심이다.

https://www.youtube.com/watch?v=bskOtHWzn1c  

# 실물사진 및 설명 
<img width="600" height="436" alt="image" src="https://github.com/user-attachments/assets/f990ead2-1754-456b-b416-8a06791900c1" />

제조사 :  Allegro MicroSystems

제조업체 부품 번호 : CT427-HSN820MR

## 1) 구성 
| **구분** | **구성요소** | **설명** |
| :--- | :--- | :--- |
| **거시적 구성**<br>(패키지) | 몰딩 컴파운드<br> | 내부 TMR 다이를 외부 충격, 오염으로부터 보호하는 몸체 |
| | 리드 프레임<br> | PCB 기판에 센서를 장착하고 전기적으로 연결하는 금속 핀 |
| | TMR 다이<br> | MTJ 구조가 형성된 실제 센서 칩 |
| **미시적 구성**<br>(MTJ) | 고정층<br> | 자화 방향이 고정된 기준점 역할의 자성층 |
| | 자유층<br>| 외부 자기장에 반응하여 자화 방향이 바뀌는 감지용 자성층 |
| | 터널링 장벽<br>| 두 자성층을 분리하는 1~2nm 두께의 초박막 절연층 |

## 2) 크기
가로세로 약 4.9mm x 3.9mm

## 3) 구조적 특성
고정층–절연층–자유층으로 이루어져 있으며, 전자 터널링과 자성층의 상대 방향 변화에 따라 전기적 저항이 변하는 원리를 이용함. 이 구조가 고감도, 소형화, 집적화를 가능하게 함

# 데이터시트 및 설명 (TMR RR121)

| Parameters                          | Units | Min  | Typ  | Max  |
|-------------------------------------|-------|------|------|------|
| Average Supply Current (IDD AVG)    | nA    | 200  | -    | 700  |
| Switching Frequency (fsw)           | Hz    | 1    | 2    | 4    |
| Active Mode Time (tACT)             | µs    | 1.4  | -    | -    |
| Idle Mode Time (tIDLE)              | ms    | 500  | -    | -    |
| Operate Point (BOPN)                | G     | 27   | 30   | 38   |
| Operate Point (BOPS)                | G     | -38  | -30  | -27  |
| Release Point (BRPN)                | G     | -27  | -    | 27   |
| Release Point (BRPS)                | G     | -27  | -20  | -18  |
| Hysteresis (BHYST)                  | G     | 5    | 10   
  
  ** G : Gauss, 자기장의 세기를 나타내는 단위 
  
- Average Supply Current : 센서가 정상적으로 동작할 때 소비하는 평균 전류
- Switching Frequency : 센서가 얼마나 빠르게 상태를 전환할 수 있는지를 나타냄. 이 값이 높을 수록 센서는 더 빠르게 자기장 변화를 감지하고 반응할수 있음.
- Active Mode time : 센서가 동작하는 동안의 시간
- Idle Mode Time : 센서가 대기 모드로 전환하는데 걸리는 시간. 대기 모드는 센서가 데이터를 수집하지 않고, 전력소비를 최소화하는 상태
- Operate Point (BOPN, BOPS) : 센서가 자기장 신호를 받아 출력이 활성화(ON)되는 임계 자기장 값입니다. BOPN은 음극 방향 자기장, BOPS는 양극 방향 자기장을 의미합니다.  
- Release Point (BRPN, BRPS) : 센서가 자기장 신호가 약해져서 출력이 비활성화(OFF)되는 임계 자기장 값입니다. BRPN은 음극 방향, BRPS는 양극 방향 자기장에 대한 복구점입니다. 보통 BRP 값은 BOP 값보다 자기장 세기가 낮습니다.  
- Hysteresis (BHYST) : 동작점(BOP)과 복귀점(BRP) 사이의 자기장 차이로, 센서가 신호의 잦은 ON/OFF 전환 없이 안정적으로 동작하도록 돕는 기능입니다. 히스테리시스 값이 클수록 센서는 작은 자기장 변동에 덜 민감하게 반응합니다.
 * **Hysteresis**는 **자기장이 변할 때 센서의 반응이 다르게 일어나는** 현상을 나타냅니다. 즉, 센서가 **BOP (Operate Point)** 에 도달하여 **HIGH** 상태로 바뀌고, 자기장이 다시 감소하여 **BRP (Release Point)** 에 도달하면 **LOW** 상태로 변합니다. 하지만 자기장이 **BRP**로 감소했다고 해서 센서가 즉시 **LOW**로 전환되는 것은 아니며, **BOP**에 도달하기까지 센서는 일정한 자기장 변화 구간을 거치게 됩니다.

<img width="942" height="808" alt="image" src="https://github.com/user-attachments/assets/4c5e24d2-d270-45da-8c96-47170f106116" />

  
# 구체적 응용사례 
<디지털 카메라>
TLI5590-A6W

TMR 센서의 사용 분야는 카메라의 자동초점 및 광학 줌 기능을 위한 정밀 렌즈 위치 감지이다. 선명한 사진을 얻기 위해서는 카메라의 렌즈 그룹이 마이크로미터 단위의 오차 범위 내에서 정확한 위치로 신속하게 이동해야 하며, TMR센서는 이때 역할을 수행한다. 

TMR 센서는 렌즈 구동 시스템의 '눈'으로서, 움직이는 렌즈의 현재 위치를 실시간으로 파악하여 제어 프로세서에 전달한다. 

동작원리는 다음과 같다
구성: 카메라 내부의 움직이는 렌즈 부품에는 미세한 다극 자석(N/S극이 번갈아 배열)이 부착되고, TMR 센서는 고정된 위치에서 이 자석의 움직임을 감시한다.

감지: 사용자가 초점을 맞추거나 줌을 조작하면, 모터가 렌즈를 움직인다. 이때 렌즈와 함께 움직이는 자석의 자기장을 TMR 센서가 감지한다.

계산: 센서는 자기장의 변화를 사인(sine) 및 코사인(cosine) 신호로 변환하여 출력한다. 프로세서는 이 신호들을 바탕으로 렌즈의 절대적인 선형 또는 회전 위치를 10μm 이하의 정밀도로 계산한다.

피드백 제어: 프로세서는 TMR 센서로부터 받은 현재 위치 값과 목표 위치 값을 비교하여, 렌즈가 정확한 지점에 도달할 때까지 모터를 제어하는 피드백 루프(Feedback Loop)를 구성한다. 이를 통해 빠르고 정확한 렌즈 구동이 가능하다.

해당 부품(TLI5590-A6W)의 가격은 개당 3000원 수준으로 형성된다. 

이 센서는 초소형화, 높은 정밀도, 우수한 내구성 및 저전력이라는 장점을 바탕으로 카메라 시스템의 핵심 부품으로 자리잡고 있다. 특히 스마트폰처럼 작고 얇은 기기에서 고성능 AF(Auto focusing) 및 줌 기능을 구현하는데 필수적인 기술이다. 
<img width="1893" height="989" alt="스크린샷 2025-10-02 110010" src="https://github.com/user-attachments/assets/90a7ce1a-7a4e-4b06-9b42-23b5f6dd5088" />
<img width="900" height="802" alt="스크린샷 2025-10-02 104908" src="https://github.com/user-attachments/assets/4dd0b9a7-15c9-4d60-a12f-2ce3d8a805e3" />



